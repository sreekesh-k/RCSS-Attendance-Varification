generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Courses {
  cid        Int          @id @default(autoincrement())
  cname      String       @db.VarChar(50)
  sem        Int          @default(1)
  level      CourseLevel
  subjects   Subjects[]
  timetables TimeTables[]
}

model Subjects {
  sid    Int     @id @default(autoincrement())
  cid    Int
  sname  String  @db.VarChar(100)
  course Courses @relation(fields: [cid], references: [cid], onDelete: Cascade)
}

model Teachers {
  tid        Int          @id @default(autoincrement())
  tname      String       @db.VarChar(50)
  timetables TimeTables[]
}

model TimeSlots {
  tsid       Int          @id @default(autoincrement())
  starttime  String       @db.VarChar(10)
  endtime    String       @db.VarChar(10)
  timetables TimeTables[]
}

model TimeTables {
  ttid Int  @id @default(autoincrement())
  day  Days @default(MONDAY)
  cid  Int
  tsid Int
  tid  Int

  Courses   Courses   @relation(fields: [cid], references: [cid])
  Teachers  Teachers  @relation(fields: [tid], references: [tid])
  TimeSlots TimeSlots @relation(fields: [tsid], references: [tsid])
}

enum CourseLevel {
  UG
  PG
}

enum Days {
  MONDAY
  TUESDAY
  WEDNESDAY
  THURSDAY
  FRIDAY
  SATURDAY
  SUNDAY
}
